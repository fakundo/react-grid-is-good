{"version":3,"sources":["Grid.js"],"names":["Grid","id","getChildContext","grid","props","getGridPropValue","name","breakpoint","getSpanWidth","spanProps","gridSize","spanSize","getSpanBreak","getStyles","gutter","valign","marginLeft","marginRight","top","middle","bottom","MsFlexAlign","renderStyleTag","content","createElement","dangerouslySetInnerHTML","__html","join","renderChildren","nextChildren","widthCounter","forEach","children","child","index","defaultProps","spanBreak","spanWidth","push","key","render","className","propTypes","any","string","size","number","align","oneOf","childContextTypes","object"],"mappings":"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","file":"Grid.js","sourcesContent":["import React, { Component, Children } from 'react';\nimport PropTypes from 'prop-types';\nimport uniqueId from 'lodash/uniqueId';\nimport assign from 'lodash/assign';\nimport { getPropValue, applyPrefixes, calcSize } from './utils';\nimport Break from './Break';\nimport Span from './Span';\n\nexport default class Grid extends Component {\n\n  static propTypes = {\n    className: PropTypes.any,\n    children: PropTypes.any,\n    breakpoint: PropTypes.string,\n    size: PropTypes.number,\n    gutter: PropTypes.number,\n    align: PropTypes.oneOf(['left', 'center', 'right']),\n    valign: PropTypes.oneOf(['top', 'middle', 'bottom']),\n  };\n\n  static defaultProps = {\n    size: 12,\n    gutter: 0,\n    align: 'left',\n    valign: 'top'\n  };\n\n  static childContextTypes = {\n    grid: PropTypes.object\n  };\n\n  constructor() {\n    super();\n    this.id = uniqueId('rgig-grid');\n  }\n\n  getChildContext() {\n    return {\n      grid: this.props\n    };\n  }\n\n  getGridPropValue(name) {\n    const { breakpoint } = this.props;\n    return getPropValue(name, breakpoint, this.props);\n  }\n\n  getSpanWidth(spanProps, gridSize) {\n    const { breakpoint } = this.props;\n    const spanSize = getPropValue('size', breakpoint, spanProps);\n    return calcSize(spanSize, gridSize);\n  }\n\n  getSpanBreak(spanProps) {\n    const { breakpoint } = this.props;\n    return getPropValue('break', breakpoint, spanProps);\n  }\n\n  getStyles() {\n    const gutter = this.getGridPropValue('gutter');\n    const valign = this.getGridPropValue('valign');\n    return {\n      marginLeft: -gutter / 2,\n      marginRight: -gutter / 2,\n      // Flex styles\n      ...applyPrefixes('FlexWrap', 'wrap'),\n      // Vertical align\n      ...applyPrefixes('AlignItems', ({\n        top: 'flex-start',\n        middle: 'center',\n        bottom: 'flex-end'\n      })[valign]),\n      // MS valign fix\n      MsFlexAlign: ({\n        top: 'start',\n        middle: 'center',\n        bottom: 'end'\n      }[valign])\n    };\n  }\n\n  renderStyleTag() {\n    const content = [\n      `#${this.id}{`,\n      'display: -webkit-flex;',\n      'display: -moz-flex;',\n      'display: -ms-flex;',\n      '}'\n    ];\n    return React.createElement('style', {\n      dangerouslySetInnerHTML: { __html: content.join(' ') }\n    });\n  }\n\n  renderChildren() {\n    const gridSize = this.getGridPropValue('size');\n    const nextChildren = [];\n    let widthCounter = 0;\n    Children.forEach(this.props.children, (child, index) => {\n      if (child) {\n        const spanProps = assign({}, Span.defaultProps, child.props);\n        const spanBreak = this.getSpanBreak(spanProps);\n        const spanWidth = this.getSpanWidth(spanProps, gridSize);\n        widthCounter += spanWidth;\n        if (widthCounter > 100 || spanBreak) {\n          widthCounter = spanWidth;\n          nextChildren.push(React.createElement(Break, { key: `break${index}` }));\n        }\n        nextChildren.push(child);\n      }\n    });\n    return nextChildren;\n  }\n\n  render() {\n    return (\n      <div\n        id={this.id}\n        className={this.props.className}\n        style={this.getStyles()}\n      >\n        { this.renderStyleTag() }\n        { this.renderChildren() }\n      </div>\n    );\n  }\n\n}\n"]}